<MudThemeProvider />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<CascadingAuthenticationState>
    <Router AppAssembly="typeof(Program).Assembly" NotFoundPage="typeof(Pages.NotFound)">
        <Found Context="routeData">
            <ErrorBoundary>
                <ChildContent>
                    <RouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)" />
                    <FocusOnNavigate RouteData="routeData" Selector="h1" />
                </ChildContent>
                <ErrorContent Context="exception">
                    <div style="background: #ffebee; padding: 20px; margin: 20px; border-left: 4px solid #f44336;">
                        <h3 style="color: #c62828;">❌ An error occurred</h3>
                        <p><strong>Error:</strong> @exception.Message</p>
                        <details style="margin-top: 10px;">
                            <summary style="cursor: pointer;">Show details</summary>
                            <pre style="background: #fff; padding: 10px; overflow: auto; margin-top: 10px;">@exception.ToString()</pre>
                        </details>
                        <div style="margin-top: 20px;">
                            <a href="/" style="background: #1976d2; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">Go to Home</a>
                            <button onclick="location.reload()" style="background: #388e3c; color: white; padding: 10px 20px; border: none; border-radius: 4px; margin-left: 10px; cursor: pointer;">Reload Page</button>
                        </div>
                    </div>
                </ErrorContent>
            </ErrorBoundary>
        </Found>
    </Router>
</CascadingAuthenticationState>
